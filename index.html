<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- CSS  -->
  <link rel="stylesheet" type="text/css" href="./src/css/trang-chu.css" />
  <link rel="stylesheet" href="./assets/libs/bootstrap-5.3.3-dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="assets/icon/fontawesome-free-6.7.2-web/css/all.min.css" />
  <link rel="stylesheet" href="./src/css/searchAdvanceMobile.css" />
  <link rel="stylesheet" href="./src/css/footer.css">
  <!-- JS  -->
  <script src="./src/js/main.js"></script>
  <script src="./assets/libs/bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js"></script>
  <script src="./src/js/onOffSeacrhAdvance.js"></script>
  <!-- <script src="./src/js/search.js"></script> -->
  <!-- <script src="./src/js/tim-kiem-nang-cao.js"></script> -->
  <script src="./src/js/search-common.js"></script>
  <script src="./src/js/test-search.js"></script>
  <!-- Tìm kiếm  -->
  <title>Trang Chủ</title>
  <!-- <script src="./src/js/search.js"></script> -->
  <!-- AVCCVSA -->
</head>

<!-- <script src="./src/js/search.js"></script> -->

<body>
  <div class="Sticky">
    <div class="container-fluid" style="padding: 0 !important">
      <!-- HEADER  -->
      <div class="header">
        <!-- MENU  -->
        <div class="grid">
          <div class="aaa"></div>
          <div class="item-header">
            <div class="search-group">
              <form id="searchForm" method="get">
                <div class="search-container">
                  <div class="search-input-wrapper">
                    <input type="search" placeholder="Tìm kiếm sản phẩm..." id="searchInput" name="search"
                      class="search-input" />
                    <button type="button" class="advanced-search-toggle" id="advanced-search-toggle"
                      onclick="toggleAdvancedSearch()" title="Tìm kiếm nâng cao">
                      <i class="fas fa-sliders-h"></i>
                    </button>
                    <button type="submit" class="search-button" onclick="performSearch()" title="Tìm kiếm">
                      <i class="fas fa-search"></i>
                    </button>
                  </div>
                </div>

                <!-- Form tìm kiếm nâng cao được thiết kế lại -->
                <div id="advancedSearchForm" class="advanced-search-panel" style="display: none">
                  <div class="advanced-search-header">
                    <h5>Tìm kiếm nâng cao</h5>
                    <button type="button" class="close-advanced-search" onclick="toggleAdvancedSearch()">
                      <i class="fas fa-times"></i>
                    </button>
                  </div>

                  <!-- Panel tìm kiếm nâng cao  -->
                  <div class="search-filter-container" id="search-filter-container">
                    <div class="filter-group">
                      <label for="categoryFilter">
                        <i class="fas fa-leaf"></i> Phân loại sản phẩm
                      </label>
                      <select id="categoryFilter" name="category" class="form-select">
                        <option value="Chọn phân loại">Chọn phân loại</option>
                        <option value="Cây dễ chăm">Cây dễ chăm</option>
                        <option value="Cây văn phòng">Cây văn phòng</option>
                        <option value="Cây để bàn">Cây để bàn</option>
                        <option value="Cây dưới nước">Cây dưới nước</option>
                      </select>
                    </div>

                    <div class="filter-group">
                      <label for="priceRange">
                        <i class="fas fa-tag"></i> Khoảng giá
                      </label>
                      <div class="price-range-slider">
                        <div class="price-input-group">
                          <input type="number" id="minPrice" name="minPrice" placeholder="Từ" min="0" />
                          <span class="price-separator">-</span>
                          <input type="number" id="maxPrice" name="maxPrice" placeholder="Đến" min="0" />
                        </div>
                        <div class="price-ranges">
                          <button type="button" class="price-preset" onclick="setPrice(0, 200000)">
                            Dưới 200k
                          </button>
                          <button type="button" class="price-preset" onclick="setPrice(200000, 500000)">
                            200k - 500k
                          </button>
                          <button type="button" class="price-preset" onclick="setPrice(500000, 1000000)">
                            500k - 1tr
                          </button>
                          <button type="button" class="price-preset" onclick="setPrice(1000000, 0)">
                            Trên 1tr
                          </button>
                        </div>
                      </div>
                    </div>

                    <div class="filter-actions">
                      <button type="submit" class="btn-search" onclick="performSearch()">
                        <i class="fas fa-search"></i> Tìm kiếm
                      </button>
                      <button type="button" class="btn-reset" onclick="resetFilters()">
                        <i class="fas fa-redo-alt"></i> Đặt lại
                      </button>
                    </div>
                  </div>

                  <div class="search-tips">
                    <p>
                      <i class="fas fa-lightbulb"></i> Mẹo: Kết hợp nhiều điều
                      kiện để tìm kiếm chính xác hơn
                    </p>
                  </div>
                </div>
              </form>
            </div>

            <!-- <script>
              document.getElementById("searchForm").addEventListener("submit", function (e) {
                e.preventDefault(); // Ngăn chặn reload trang
                let searchInput = document.getElementById("searchInput").value;
                window.location.href = "./pages/search-result.html?q=" + encodeURIComponent(searchInput);
              });

              document.addEventListener("DOMContentLoaded", function () {
                // Get search parameters from URL
                const urlParams = new URLSearchParams(window.location.search);
                const searchQuery = urlParams.get("q") || "";
                const category = urlParams.get("category") || "";
                const minPrice = urlParams.get("minPrice") || "";
                const maxPrice = urlParams.get("maxPrice") || "";
                const advancedSearch = urlParams.get("advanced") === "true";
                const currentPage = parseInt(urlParams.get("page") || "1");

                // Display search parameters
                displaySearchParams(searchQuery, category, minPrice, maxPrice);

                // Fetch search results
                fetchSearchResults(searchQuery, category, minPrice, maxPrice, currentPage);

                // Set up the category filter in the advanced search if it exists
                populateCategoryFilter();

                // Make sure the form doesn't submit when selecting a category
                const categoryFilter = document.getElementById("categoryFilter");
                if (categoryFilter) {
                  categoryFilter.addEventListener("change", function (e) {
                    // Don't submit the form automatically when changing category
                    e.preventDefault();
                  });
                }

                // Set up the search form submission
                const searchForm = document.getElementById("searchForm");
                if (searchForm) {
                  searchForm.addEventListener("submit", function (e) {
                    e.preventDefault(); // Prevent default form submission
                    performSearch(); // Use our custom search function
                  });
                }

                // Initialize the advanced search visibility based on URL parameter
                const advancedSearchForm = document.getElementById("advancedSearchForm");
                advancedSearchForm = false; // Thay vì đọc từ URL

                if (advancedSearchForm) {
                  advancedSearchForm.style.display = advancedSearch ? "block" : "none";
                }
              });

              /**
               * Populates the category filter with available categories
               */
              function populateCategoryFilter() {
                const categoryFilter = document.getElementById("categoryFilter");
                if (categoryFilter) {
                  // Get the category from URL if available
                  const urlParams = new URLSearchParams(window.location.search);
                  const selectedCategory = urlParams.get("category") || "";

                  // Set the selected category if it exists
                  if (selectedCategory) {
                    // Try to find and select the option
                    for (let i = 0; i < categoryFilter.options.length; i++) {
                      if (categoryFilter.options[i].value === selectedCategory) {
                        categoryFilter.selectedIndex = i;
                        break;
                      }
                    }
                  }
                }
              }

              /**
               * Performs search when the search form is submitted
               */
              function performSearch() {
                const searchInput = document.getElementById("searchInput").value;

                // Check if advanced search is visible
                const advancedSearchForm = document.getElementById("advancedSearchForm");
                const isAdvancedSearchVisible =
                  advancedSearchForm && advancedSearchForm.style.display !== "none";

                // Only get category and price if advanced search is visible
                let category = "";
                let minPrice = "";
                let maxPrice = "";

                if (isAdvancedSearchVisible) {
                  const categoryFilter = document.getElementById("categoryFilter");
                  // Only use category if a real option is selected (not the placeholder)
                  if (
                    categoryFilter &&
                    categoryFilter.selectedIndex > 0 &&
                    categoryFilter.value !== "Chọn phân loại"
                  ) {
                    category = categoryFilter.value;
                  }

                  minPrice = document.getElementById("minPrice")?.value || "";
                  maxPrice = document.getElementById("maxPrice")?.value || "";
                } else {
                  // Get category even if advanced search is not visible
                  const categoryFilter = document.getElementById("categoryFilter");
                  if (
                    categoryFilter &&
                    categoryFilter.selectedIndex > 0 &&
                    categoryFilter.value !== "Chọn phân loại"
                  ) {
                    category = categoryFilter.value;
                  }
                }

                // Build query string
                let queryString = `q=${encodeURIComponent(searchInput)}`;

                // Add advanced search parameter to track toggle state
                queryString += `&advanced=${isAdvancedSearchVisible}`;

                // Add category regardless of advanced search state
                if (category) {
                  queryString += `&category=${encodeURIComponent(category)}`;
                }

                // Only add price parameters if advanced search is active
                if (isAdvancedSearchVisible) {
                  if (minPrice) {
                    queryString += `&minPrice=${encodeURIComponent(minPrice)}`;
                  }

                  if (maxPrice) {
                    queryString += `&maxPrice=${encodeURIComponent(maxPrice)}`;
                  }
                }

                // Start on page 1 for new searches
                queryString += "&page=1";

                // Redirect to search results page
                window.location.href = "./pages/search-result.html?" + queryString;
              }

              /**
               * Displays the search parameters used
               */
              function displaySearchParams(query, category, minPrice, maxPrice) {
                const searchParamsContainer = document.getElementById("searchParams");
                if (!searchParamsContainer) return; // Exit if container doesn't exist in the HTML

                let paramsHTML =
                  '<h3>Kết quả tìm kiếm cho:</h3><ul class="search-params-list">';

                if (query) {
                  paramsHTML += `<li><strong>Từ khóa:</strong> ${escapeHTML(query)}</li>`;
                }

                // Only show category and price filters if they were part of an advanced search
                const urlParams = new URLSearchParams(window.location.search);
                const advancedSearch = urlParams.get("advanced") === "true";

                if (advancedSearch) {
                  if (category && category !== "Chọn phân loại") {
                    paramsHTML += `<li><strong>Phân loại:</strong> ${escapeHTML(
                      category
                    )}</li>`;
                  }

                  if (minPrice && maxPrice) {
                    paramsHTML += `<li><strong>Giá:</strong> ${formatPrice(
                      minPrice
                    )} - ${formatPrice(maxPrice)}</li>`;
                  } else if (minPrice) {
                    paramsHTML += `<li><strong>Giá từ:</strong> ${formatPrice(
                      minPrice
                    )}</li>`;
                  } else if (maxPrice) {
                    paramsHTML += `<li><strong>Giá đến:</strong> ${formatPrice(
                      maxPrice
                    )}</li>`;
                  }
                }

                paramsHTML += "</ul>";
                searchParamsContainer.innerHTML = paramsHTML;
              }

              /**
               * Fetches search results from the PHP script
               */
              function fetchSearchResults(
                query,
                category,
                minPrice,
                maxPrice,
                currentPage = 1
              ) {
                // Find the existing search results container
                const resultsContainer = document.getElementById("searchResults");
                if (!resultsContainer) return; // Exit if container doesn't exist

                // Clear any duplicate containers (if there's more than one with the same ID)
                const duplicateContainers = document.querySelectorAll("#searchResults");
                if (duplicateContainers.length > 1) {
                  for (let i = 1; i < duplicateContainers.length; i++) {
                    duplicateContainers[i].remove();
                  }
                }

                resultsContainer.innerHTML =
                  '<div class="loading-spinner"><i class="fas fa-spinner fa-spin"></i> Đang tải...</div>';

                // Check if we're using advanced search
                const urlParams = new URLSearchParams(window.location.search);
                const advancedSearch = urlParams.get("advanced") === "true";

                // Build the query string
                let queryString = "";
                if (query) queryString += `q=${encodeURIComponent(query)}&`;

                // Only include these parameters if advanced search was used
                if (advancedSearch) {
                  // Only include category if it's a valid selection
                  if (category && category !== "Chọn phân loại") {
                    queryString += `category=${encodeURIComponent(category)}&`;
                  }

                  if (minPrice) queryString += `minPrice=${encodeURIComponent(minPrice)}&`;
                  if (maxPrice) queryString += `maxPrice=${encodeURIComponent(maxPrice)}&`;
                }

                // Remove trailing '&' if exists
                if (queryString.endsWith("&")) {
                  queryString = queryString.slice(0, -1);
                }

                // Make API request to our PHP script
                fetch(`../php-api/search.php?${queryString}`)
                  .then((response) => {
                    if (!response.ok) {
                      throw new Error("Network response was not ok");
                    }
                    return response.json();
                  })
                  .then((data) => {
                    displayResults(data, resultsContainer, currentPage);
                    createPagination(data.length, currentPage);
                  })
                  .catch((error) => {
                    resultsContainer.innerHTML = `
        <div class="error-message">
          <i class="fas fa-exclamation-circle"></i>
          <p>Có lỗi xảy ra khi tải kết quả tìm kiếm: ${error.message}</p>
        </div>
      `;
                  });
              }

              /**
               * Resets all search filters
               */
              function resetFilters() {
                document.getElementById("searchInput").value = "";

                const categoryFilter = document.getElementById("categoryFilter");
                if (categoryFilter) {
                  categoryFilter.selectedIndex = 0;
                }

                const minPrice = document.getElementById("minPrice");
                if (minPrice) {
                  minPrice.value = "";
                }

                const maxPrice = document.getElementById("maxPrice");
                if (maxPrice) {
                  maxPrice.value = "";
                }
              }

              /**
               * Sets the price range inputs to predefined values
               */
              function setPrice(min, max) {
                const minPriceInput = document.getElementById("minPrice");
                const maxPriceInput = document.getElementById("maxPrice");

                if (minPriceInput) {
                  minPriceInput.value = min;
                }

                if (maxPriceInput) {
                  maxPriceInput.value = max > 0 ? max : "";
                }
              }

              /**
               * Toggles the advanced search panel
               */
              function toggleAdvancedSearch() {
                const advancedSearchForm = document.getElementById("advancedSearchForm");
                if (advancedSearchForm) {
                  if (advancedSearchForm.style.display === "none") {
                    advancedSearchForm.style.display = "block";
                  } else {
                    advancedSearchForm.style.display = "none";
                  }
                }

                // Update the toggle button icon
                const advancedSearchToggle = document.getElementById(
                  "advanced-search-toggle"
                );
                if (advancedSearchToggle) {
                  if (advancedSearchForm.style.display === "none") {
                    advancedSearchToggle.innerHTML = '<i class="fas fa-sliders-h"></i>';
                    advancedSearchToggle.title = "Tìm kiếm nâng cao";
                  } else {
                    advancedSearchToggle.innerHTML = '<i class="fas fa-times"></i>';
                    advancedSearchToggle.title = "Đóng tìm kiếm nâng cao";
                  }
                }
              }

              /**
               * Navigate to a specific page
               */
              function goToPage(pageNumber) {
                const urlParams = new URLSearchParams(window.location.search);
                urlParams.set("page", pageNumber);
                window.location.href = window.location.pathname + "?" + urlParams.toString();
              }

              /**
               * Creates pagination controls
               */
              function createPagination(totalItems, currentPage) {
                const itemsPerPage = 8;
                const totalPages = Math.ceil(totalItems / itemsPerPage);

                // Get existing pagination container
                let paginationContainer = document.getElementById("pagination");
                if (!paginationContainer) return; // Exit if container doesn't exist in the HTML

                // Don't show pagination if not needed
                if (totalPages <= 1) {
                  paginationContainer.style.display = "none";
                  return;
                }

                paginationContainer.style.display = "flex";

                let paginationHTML = "";

                // Previous button
                paginationHTML += `<button class="page-btn prev-btn btn btn-success" ${currentPage === 1 ? "disabled" : ""
                  } onclick="goToPage(${currentPage - 1})">
    <i class="fas fa-chevron-left"></i>
  </button>`;

                // Page buttons
                const maxPageButtons = 5;
                let startPage = Math.max(1, currentPage - Math.floor(maxPageButtons / 2));
                let endPage = Math.min(totalPages, startPage + maxPageButtons - 1);

                // Adjust start page if we're near the end
                if (endPage - startPage + 1 < maxPageButtons) {
                  startPage = Math.max(1, endPage - maxPageButtons + 1);
                }

                // First page button if needed
                if (startPage > 1) {
                  paginationHTML += `<button class="page-btn btn btn-success" onclick="goToPage(1)">1</button>`;
                  if (startPage > 2) {
                    paginationHTML += `<span class="page-ellipsis">...</span>`;
                  }
                }

                // Page buttons
                for (let i = startPage; i <= endPage; i++) {
                  paginationHTML += `<button class="page-btn btn btn-success ${i === currentPage ? "active" : ""
                    }" onclick="goToPage(${i})">${i}</button>`;
                }

                // Last page button if needed
                if (endPage < totalPages) {
                  if (endPage < totalPages - 1) {
                    paginationHTML += `<span class="page-ellipsis">...</span>`;
                  }
                  paginationHTML += `<button class="page-btn btn btn-success" onclick="goToPage(${totalPages})">${totalPages}</button>`;
                }

                // Next button
                paginationHTML += `<button class="page-btn next-btn btn btn-success" ${currentPage === totalPages ? "disabled" : ""
                  } onclick="goToPage(${currentPage + 1})">
    <i class="fas fa-chevron-right"></i>
  </button>`;

                paginationContainer.innerHTML = paginationHTML;
              }

              /**
               * Displays the search results with pagination
               */
              function displayResults(data, container, currentPage = 1) {
                // Clear loading message
                container.innerHTML = "";

                // Check if we have a message (no results)
                if (data.message) {
                  container.innerHTML = `
      <div class="no-results">
        <i class="fas fa-search"></i>
        <p>${data.message}</p>
        <a href="javascript:history.back()" class="back-button">
          <i class="fas fa-arrow-left"></i> Quay lại
        </a>
      </div>
    `;
                  return;
                }

                // If we have products
                if (data.length > 0) {
                  const itemsPerPage = 8;
                  const startIndex = (currentPage - 1) * itemsPerPage;
                  const endIndex = Math.min(startIndex + itemsPerPage, data.length);
                  const currentPageData = data.slice(startIndex, endIndex);

                  const resultsCount = document.createElement("div");
                  resultsCount.className = "results-count";
                  resultsCount.innerHTML = `<p>Tìm thấy ${data.length} sản phẩm (hiển thị ${startIndex + 1
                    } - ${endIndex})</p>`;
                  container.appendChild(resultsCount);

                  const productsGrid = document.createElement("div");
                  productsGrid.className = "products-grid";

                  currentPageData.forEach((product) => {
                    const productCard = createProductCard(product);
                    productsGrid.appendChild(productCard);
                  });

                  container.appendChild(productsGrid);
                } else {
                  container.innerHTML = `
      <div class="no-results">
        <i class="fas fa-search"></i>
        <p>Không tìm thấy sản phẩm nào phù hợp với tiêu chí tìm kiếm.</p>
        <a href="javascript:history.back()" class="back-button">
          <i class="fas fa-arrow-left"></i> Quay lại
        </a>
      </div>
    `;
                }
              }

              /**
               * Creates a product card element
               */
              function createProductCard(product) {
                const card = document.createElement("div");
                card.className = "product-card";
                card.setAttribute("data-product-id", product.ProductID);

                const imageUrl = product.ImageURL || "images/placeholder.jpg";

                card.innerHTML = `
    <div class="product-image">
      <img src="../${escapeHTML(imageUrl)}" alt="${escapeHTML(
                  product.ProductName
                )}" onerror="this.src='images/placeholder.jpg'">
    </div>
    <div class="product-info">
      <h3 class="product-name">${escapeHTML(product.ProductName)}</h3>
      <p class="product-price">${formatPrice(product.Price)}</p>
      <button class="add-to-cart-btn" onclick="addToCart(${product.ProductID})">
        <i class="fas fa-shopping-cart"></i> Thêm vào giỏ
      </button>
    </div>
  `;

                card.addEventListener("click", function (e) {
                  // Prevent navigation if clicking on the Add to Cart button
                  if (e.target.closest(".add-to-cart-btn")) {
                    e.stopPropagation();
                    return;
                  }

                  // Navigate to product detail page
                  window.location.href = `./user-sanpham.php?id=${product.ProductID}`;
                });

                return card;
              }

              /**
               * Adds a product to the shopping cart
               */
              function addToCart(productId) {
                // You would implement this based on your cart system
                console.log(`Adding product ID ${productId} to cart`);

                // Example implementation with localStorage
                let cart = JSON.parse(localStorage.getItem("cart") || "[]");

                // Check if product already in cart
                const existingItem = cart.find((item) => item.id === productId);

                if (existingItem) {
                  existingItem.quantity += 1;
                } else {
                  cart.push({
                    id: productId,
                    quantity: 1,
                  });
                }

                localStorage.setItem("cart", JSON.stringify(cart));

                // Show confirmation message
                showNotification("Đã thêm sản phẩm vào giỏ hàng!");
              }

              /**
               * Shows a notification message
               */
              function showNotification(message) {
                // Create notification element if it doesn't exist
                let notification = document.getElementById("notification");

                if (!notification) {
                  notification = document.createElement("div");
                  notification.id = "notification";
                  notification.className = "notification";
                  document.body.appendChild(notification);
                }

                // Set message and show notification
                notification.textContent = message;
                notification.classList.add("show");

                // Hide after 3 seconds
                setTimeout(() => {
                  notification.classList.remove("show");
                }, 3000);
              }

              /**
               * Formats a price with Vietnamese currency
               */
              function formatPrice(price) {
                return new Intl.NumberFormat("vi-VN", {
                  style: "currency",
                  currency: "VND",
                }).format(price);
              }

              /**
               * Escapes HTML to prevent XSS
               */
              function escapeHTML(str) {
                if (!str) return "";
                return String(str)
                  .replace(/&/g, "&amp;")
                  .replace(/</g, "&lt;")
                  .replace(/>/g, "&gt;")
                  .replace(/"/g, "&quot;")
                  .replace(/'/g, "&#039;");
              }

            </script> -->


            <!-- Header, Giỏ hàng và user -->
            <div class="cart-icon">
              <a href="./pages/gio-hang.html"><img src="./assets/images/cart.svg" alt="cart" /></a>
            </div>
            <div class="user-icon">
              <label for="tick" style="cursor: pointer"><img src="./assets/images/user.svg" alt="" /></label>
              <input id="tick" hidden type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample"
                aria-controls="offcanvasExample" />
              <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasExample"
                aria-labelledby="offcanvasExampleLabel">
                <div class="offcanvas-header">
                  <h5 class="offcanvas-title" id="offcanvasExampleLabel">
                    Xin vui lòng đăng nhập
                  </h5>
                  <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
                    aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                  <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                    <li class="nav-item">
                      <a class="nav-link login-logout" href="./pages/user-register.html">Đăng kí</a>
                    </li>

                    <li class="nav-item">
                      <a class="nav-link login-logout" href="./pages/user-login.html">Đăng nhập</a>
                    </li>

                    <li class="nav-item">
                      <a class="nav-link hs-ls-dx" href="./pages/ho-so.html">Hồ sơ</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link hs-ls-dx" href="./pages/ho-so.html">Lịch sử mua hàng</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link hs-ls-dx" href="index.html" onclick="logOut()">Đăng xuất</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- BAR  -->
        <nav class="navbar position-absolute">
          <div class="a">
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
              aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar"
              aria-labelledby="offcanvasNavbarLabel">
              <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasNavbarLabel">
                  THEE TREE
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              <div id="offcanvasbody" class="offcanvas-body offcanvas-fullscreen mt-20">
                <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="index.html">Trang chủ</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">Giới thiệu</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                      aria-expanded="false">
                      Sản phẩm
                    </a>
                    <ul class="dropdown-menu">
                      <li>
                        <a class="dropdown-item" href="./pages/phan-loai.html?category_id=3">Cây dễ chăm</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="./pages/phan-loai.html?category_id=1">Cây văn phòng</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="./pages/phan-loai.html?category_id=4">Cây để bàn</a>
                      </li>
                      <li>
                        <a class="dropdown-item" href="./pages/phan-loai.html?category_id=2">Cây trong nước</a>
                      </li>
                    </ul>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">Tin tức</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">Liên hệ</a>
                  </li>
                </ul>
                <!-- form tìm kiếm trên mobile  -->
                <form class="searchFormMobile mt-3" role="search" id="searchFormMobile">
                  <div class="d-flex">
                    <input class="form-control me-2" type="search" placeholder="Tìm kiếm" aria-label="Search"
                      style="height: 37.6px;" />
                    <!-- Nút tìm kiếm nâng cao trên mobile  -->
                    <button type="button" class="advanced-search-toggle" onclick="toggleMobileSearch()"
                      title="Tìm kiếm nâng cao">
                      <i class="fas fa-sliders-h"></i>
                    </button>

                    <button class="btn btn-outline-success" type="submit"
                      style="width: 76.3px;display: flex;justify-content: center;align-items: center;height: 37.6px;">
                      Search
                    </button>
                  </div>
                  <div id="search-filter-container-mobile" class="search-filter-container-mobile">
                    <div class="filter-group">
                      <label for="categoryFilter-mobile">
                        <i class="fas fa-leaf"></i> Phân loại sản phẩm
                      </label>
                      <select id="categoryFilter-mobile" name="category" class="form-select">
                        <option value="">Tất cả phân loại</option>
                        <option value="Cây dễ chăm">Cây dễ chăm</option>
                        <option value="Cây văn phòng">Cây văn phòng</option>
                        <option value="Cây để bàn">Cây để bàn</option>
                        <option value="Cây dưới nước">Cây dưới nước</option>
                      </select>
                    </div>

                    <div class="filter-group">
                      <label for="priceRange">
                        <i class="fas fa-tag"></i> Khoảng giá
                      </label>
                      <div class="price-range-slider">
                        <div class="price-input-group">
                          <input type="number" id="minPriceMobile" name="minPrice" placeholder="Từ" min="0" />
                          <span class="price-separator">-</span>
                          <input type="number" id="maxPriceMobile" name="maxPrice" placeholder="Đến" min="0" />
                        </div>
                        <div class="price-ranges">
                          <button type="button" class="price-preset" onclick="setPriceMobile(0, 200000)">
                            Dưới 200k
                          </button>
                          <button type="button" class="price-preset" onclick="setPriceMobile(200000, 500000)">
                            200k - 500k
                          </button>
                          <button type="button" class="price-preset" onclick="setPriceMobile(500000, 1000000)">
                            500k - 1tr
                          </button>
                          <button type="button" class="price-preset" onclick="setPriceMobile(1000000, 0)">
                            Trên 1tr
                          </button>
                        </div>
                      </div>
                    </div>

                    <div class="filter-actions">
                      <button type="submit" class="btn-search" onclick="performSearchMobile()">
                        <i class="fas fa-search"></i> Tìm kiếm
                      </button>
                      <button type="button" class="btn-reset" onclick="resetMobileFilters()">
                        <i class="fas fa-redo-alt"></i> Đặt lại
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </nav>
      </div>
    </div>

    <!-- NAV  -->
    <div class="nav">
      <div class="brand">
        <div class="brand-logo">
          <!-- Quay về trang chủ  -->
          <a href="index.html"><img class="img-fluid" src="./assets/images/LOGO-2.jpg" alt="LOGO" /></a>
        </div>
        <div class="brand-name">THE TREE</div>
      </div>
      <div class="choose">
        <ul>
          <li>
            <a href="index.html" style="font-weight: bold">Trang chủ</a>
          </li>
          <li><a href="#">Giới thiệu</a></li>
          <li>
            <div class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">
                Sản phẩm
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="./pages/phan-loai.html?category_id=3">Cây dễ chăm</a>
                </li>
                <li>
                  <a class="dropdown-item" href="./pages/phan-loai.html?category_id=1">Cây văn phòng</a>
                </li>
                <li>
                  <a class="dropdown-item" href="./pages/phan-loai.html?category_id=4">Cây để bàn</a>
                </li>
                <li>
                  <a class="dropdown-item" href="./pages/phan-loai.html?category_id=2">Cây dưới nước</a>
                </li>
              </ul>
            </div>
          </li>
          <li><a href="">Tin tức</a></li>
          <li><a href="">Liên hệ</a></li>
        </ul>
      </div>
    </div>
  </div>

  <!-- SECTION  -->
  <div class="section">
    <div class="img-21">
      <img src="./assets/images/CAY21.jpg" alt="CAY21" />
    </div>
  </div>

  <main>
    <!-- DANH MUC SAN PHAM -->
    <section id="container_1" class="class">
      <h2 class="font_size">DANH MỤC SẢN PHẨM</h2>

      <!-- Anh -->
      <div class="IMG">
        <div class="img__TREE">
          <!-- LINK SẢN PHẨM -->

          <img class="THE-TREE" src="./assets/images/CAY1.jpg" alt="Cây dễ Chăm" />
          <p class="content_TREE-1">CÂY DỄ CHĂM</p>
        </div>

        <div class="img__TREE">
          <img class="THE-TREE" src="./assets/images/CAY18.jpg" alt="CÂY VĂN PHÒNG" />
          <p class="content_TREE-1">CÂY VĂN PHÒNG</p>
        </div>

        <div class="img__TREE">
          <img class="THE-TREE" src="./assets/images/CAY19.jpg" alt="CÂY ĐỂ BÀN" />
          <p class="content_TREE-1">CÂY ĐỂ BÀN</p>
        </div>

        <div class="img__TREE">
          <img class="THE-TREE" src="./assets/images/CAY20.jpg" alt="Cây dễ Chăm" />
          <p class="content_TREE-1">CÂY DƯỚI NƯỚC</p>
        </div>
      </div>
    </section>

    <section id="product1" class="section-p1">
      <!-- SẢN PHẨM MỚI -->
      <h2 class="font_size">SẢN PHẨM MỚI</h2>

      <div class="pro-container">
        <div class="pro">
          <img src="./assets/images/CAY5.jpg" alt="Cây phát tài" />
          <div class="item_name__price">
            <p>CÂY PHÁT TÀI</p>
            <span>750.000 vnđ</span>
          </div>
          <!-- <button class="add-to-cart-btn">
            <i class="fas fa-shopping-cart"></i> Thêm vào giỏ
          </button> -->
        </div>

        <div class="pro">
          <img src="./assets/images/CAY6.jpg" alt="CÂY KIM NGÂN" />
          <div class="item_name__price">
            <p>CÂY KIM NGÂN</p>
            <span>280.000 vnđ</span>
          </div>
        </div>

        <div class="pro">
          <img src="./assets/images/CAY7.jpg" alt="CÂY TRẦU BÀ" />
          <div class="item_name__price">
            <p>CÂY TRẦU BÀ</p>
            <span>120.000 vnđ</span>
          </div>
        </div>

        <div class="pro">
          <img src="./assets/images/CAY8.jpg" alt="CÂY LAN CHI" />
          <div class="item_name__price">
            <p>CÂY LAN CHI</p>
            <span>120.000 vnđ</span>
          </div>
        </div>

        <div class="pro">
          <img src="./assets/images/CAY9.jpg" alt="ÂY TRẦU BÀ ĐỎ" />
          <div class="item_name__price">
            <p>CÂY TRẦU BÀ ĐỎ</p>
            <span>320.000 vnđ</span>
          </div>
        </div>

        <div class="pro">
          <img src="./assets/images/CAY10.jpg" alt="CÂY PHÁT TÀI" />
          <div class="item_name__price">
            <p>CÂY LƯỠI HỔ</p>
            <span>750.000 vnđ</span>
          </div>
        </div>

        <div class="pro">
          <img src="./assets/images/CAY11.jpg" alt="CÂY LƯỠI HỔ VÀNG" />
          <div class="item_name__price">
            <p>CÂY LƯỠI HỔ VÀNG</p>
            <span>160.000 vnđ</span>
          </div>
        </div>

        <div class="pro">
          <img src="./assets/images/CAY12.jpg" alt="CÂY PHẠNH PHÚC" />
          <div class="item_name__price">
            <p>CÂY HẠNH PHÚC</p>
            <span>1.200.000 vnđ</span>
          </div>
        </div>

        <div class="pro">
          <img src="./assets/images/CAY13.jpg" alt="CÂY TRẦU BÀ CHẬU LỚN" />
          <div class="item_name__price">
            <p>CÂY TRẦU BÀ CHẬU LỚN</p>
            <span>1.100.000 vnđ</span>
          </div>
        </div>

        <div class="pro">
          <img src="./assets/images/CAY14.jpg" alt="CÂY PHÁT TÀI DORADO" />
          <div class="item_name__price">
            <p>CÂY PHÁT TÀI DORADO</p>
            <span>220.000 vnđ</span>
          </div>
        </div>

        <div class="pro">
          <img src="./assets/images/CAY16.jpg" alt="CÂY VẠN LỘC" />
          <div class="item_name__price">
            <p>CÂY VẠN LỘC</p>
            <span>1.150.000 vnđ</span>
          </div>
        </div>

        <div class="pro">
          <img src="./assets/images/CAY17.jpg" alt="CÂY NGỌC VỪNG" />
          <div class="item_name__price">
            <p>CÂY NGỌC VỪNG</p>
            <span>1.750.000 vnđ</span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-column">
      <h3>Thee Tree</h3>
      <ul>
        <li><a href="#">Cây dễ chăm</a></li>
        <li><a href="#">Cây văn phòng</a></li>
        <li><a href="#">Cây dưới nước</a></li>
        <li><a href="#">Cây để bàn</a></li>
      </ul>
    </div>

    <div class="footer-column">
      <h3>Dịch vụ khách hàng</h3>
      <ul>
        <li><a href="#">Chính sách đổi trả</a></li>
        <li><a href="#">Giao hàng & Vận chuyển</a></li>
        <li><a href="#">Hướng dẫn mua hàng</a></li>
        <li><a href="#">Liên hệ hỗ trợ</a></li>
      </ul>
    </div>

    <div class="footer-column">
      <h3>Learn</h3>
      <ul>
        <li><a href="#">Cách chăm sóc cây</a></li>
        <li><a href="#">Lợi ích của cây xanh</a></li>
        <li><a href="#">Cây phong thủy</a></li>
      </ul>
    </div>

    <div class="footer-column">
      <h3>More from The Tree</h3>
      <ul>
        <li><a href="#">Blog</a></li>
        <li><a href="#">Affiliate</a></li>
        <li><a href="#">Liên hệ</a></li>
        <li><a href="#">Faq's</a></li>
        <li><a href="#">Sign In</a></li>
      </ul>
    </div>

    <div class="footer-column newsletter">


      <h3>Theo dõi chúng tôi</h3>
      <div class="social-icons">
        <a href="#" aria-label="Pinterest">
          <i class="fa-brands fa-pinterest"></i>
        </a>
        <a href="#" aria-label="Facebook">
          <i class="fa-brands fa-facebook"></i>
        </a>
        <a href="#" aria-label="Instagram">
          <i class="fa-brands fa-instagram"></i>
        </a>
        <a href="#" aria-label="Twitter">
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      </div>
    </div>

    <div class="copyright">
      © 2021 tenzotea.co

      <div class="policies">
        <a href="#">Điều khoản dịch vụ</a>
        <span>|</span>
        <a href="#">Chính sách bảo mật</a>
        <span>|</span>
        <a href="#">Chính sách hoàn tiền</a>
        <span>|</span>
        <a href="#">Chính sách trợ năng</a>
      </div>
    </div>
    <!-- xong footer  -->
  </footer>
</body>

</html>